<% content_for :title do %>
  Dashboard
<% end %>

<div class="container mt-5">

  <%= render 'header' %> <!-- Renderiza el partial de encabezado -->

  <%= link_to "New Resume", "#", class: "btn btn-success mb-3", data: { toggle: "modal", target: "#newResumeModal" } %>

  <h3>Your Resumes</h3>

  <div class="row">
    <% if @resumes.any? %>
      <% @resumes.each do |resume| %>
        <div class="col-md-4 mb-3">
          <div class="d-flex align-items-center p-3 border rounded bg-light">
  
<svg width="70px" height="70px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M4 19V6.2C4 5.0799 4 4.51984 4.21799 4.09202C4.40973 3.71569 4.71569 3.40973 5.09202 3.21799C5.51984 3 6.0799 3 7.2 3H16.8C17.9201 3 18.4802 3 18.908 3.21799C19.2843 3.40973 19.5903 3.71569 19.782 4.09202C20 4.51984 20 5.0799 20 6.2V17H6C4.89543 17 4 17.8954 4 19ZM4 19C4 20.1046 4.89543 21 6 21H20M9 7H15M9 11H15M19 17V21" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>


            <div class="ms-3">
              <h5 class="mb-1"><%= resume.nombre %></h5>
              <div>
  <%= link_to 'Edit', edit_resume_path(resume), class: 'btn btn-warning btn-sm me-1' %>
  <%= link_to 'Delete', '#', class: 'btn btn-danger btn-sm me-1 delete-resume', data: { id: resume.id }, title: 'Delete Resume' %>
  <%= link_to 'Download', download_resume_path(resume), class: 'btn btn-success btn-sm' %>
</div>

            </div>
          </div>
        </div>
      <% end %>
    <% else %>
      <div class="text-center col-12">No resumes found. Please create one!</div>
    <% end %>
  </div>

</div>

<!-- Modal -->
<!-- Modal -->
<div class="modal fade" id="newResumeModal" tabindex="-1" role="dialog" aria-labelledby="newResumeModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="newResumeModalLabel">Create New Resume</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div id="error-message" class="alert alert-danger d-none"></div> <!-- Mensaje de error -->

        <form id="newResumeForm">
          <div class="form-group">
            <label for="resume_nombre">Resume Name</label>
            <input type="text" id="resume_nombre" name="resume[nombre]" class="form-control" required>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" id="createResumeButton" class="btn btn-primary">Create Resume</button>
      </div>
    </div>
  </div>
</div>

<%= javascript_include_tag 'resumes' %>