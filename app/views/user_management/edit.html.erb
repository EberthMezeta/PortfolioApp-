<h1 class="text-center my-4">Editar Usuario</h1>

<div class="container">
  <div class="card">
    <div class="card-header">
      <h5 class="mb-0">Detalles del Usuario</h5>
    </div>
    <div class="card-body">
      <%= form_with(model: @user, url: custom_update_user_path(@user), method: :patch, local: true) do |f| %>
        <div class="mb-3">
          <%= f.label :email, "Correo Electrónico", class: "form-label" %>
          <%= f.email_field :email, class: "form-control", required: true %>
        </div>

        <div class="mb-3">
          <%= f.label :role, "Rol", class: "form-label" %>
          <%= f.select :role, ['user', 'admin'], { include_blank: true }, class: "form-select" %>
        </div>

        <div class="mb-3">
          <%= f.label :first_name, "Nombre", class: "form-label" %>
          <%= f.text_field :first_name, class: "form-control" %>
        </div>

        <div class="mb-3">
          <%= f.label :last_name, "Apellido", class: "form-label" %>
          <%= f.text_field :last_name, class: "form-control" %>
        </div>

        <div class="mb-3">
          <%= f.label :occupation, "Ocupación", class: "form-label" %>
          <%= f.text_field :occupation, class: "form-control" %>
        </div>

        <div class="mb-3">
          <%= f.label :password, "Nueva Contraseña (Opcional)", class: "form-label" %>
          <%= f.password_field :password, class: "form-control" %>
          <small class="form-text text-muted">Deja en blanco si no deseas cambiar la contraseña</small>
        </div>

        <div class="mb-3">
          <%= f.label :password_confirmation, "Confirmar Contraseña", class: "form-label" %>
          <%= f.password_field :password_confirmation, class: "form-control" %>
        </div>

        <div class="d-flex justify-content-between mt-4">
          <%= link_to "Regresar", custom_index_path, class: "btn btn-secondary", data: { turbo: false } %>
          <%= f.submit "Guardar Cambios", class: "btn btn-primary" %>
        </div>
      <% end %>
    </div>
  </div>
</div>
